{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Bindu/OneDrive/Desktop/FSDproject/FSD2_Group24/fsd2-group24/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/Bindu/OneDrive/Desktop/FSDproject/FSD2_Group24/fsd2-group24/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import TodoForm from'./TodoForm';import Todo from'./Todo';import'./Todo.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TodoList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];// const [msg, setMsg] = useState(\"\");\nvar addTodo=function addTodo(todo){var _console;if(!todo.text||/^\\s*$/.test(todo.text)){return;}var newTodos=[todo].concat(_toConsumableArray(todos));setTodos(newTodos);(_console=console).log.apply(_console,_toConsumableArray(todos));// console.log(todos);\n};// update data\nvar updateTodo=function updateTodo(todoId,newValue){if(!newValue.text||/^\\s*$/.test(newValue.text)){return;}axios.put('http://localhost:5000/todos/'+todoId,{\"id\":todoId,\"text\":newValue.text}).then(function(res){console.log(newValue.text);}).catch(function(err){console.log(err);});console.log(newValue);setTodos(function(prev){return prev.map(function(item){return item.id===todoId?newValue:item;});});};//to delete data from json file\nvar removeTodo=function removeTodo(id){var removedArr=_toConsumableArray(todos).filter(function(todo){return todo.id!==id;});setTodos(removedArr);axios.delete(\"http://localhost:5000/todos/\"+id).then(function(res){console.log(\"Bucketlist deleted!!\");alert(\"Bucket list Deleted!!\");}).catch(function(error){console.log(error);});};var completeTodo=function completeTodo(id){var updatedTodos=todos.map(function(todo){if(todo.id===id){todo.isComplete=!todo.isComplete;}return todo;});setTodos(updatedTodos);};// read json data\nuseEffect(function(){fetch('http://localhost:5000/todos').then(function(res){return res.json();}).then(function(data){console.log(data);setTodos(data);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"todolist\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h1-todo\",children:\"What's the Plan for Today?\"}),/*#__PURE__*/_jsx(TodoForm,{onSubmit:addTodo}),/*#__PURE__*/_jsx(Todo,{todos:todos,completeTodo:completeTodo,removeTodo:removeTodo,updateTodo:updateTodo})]});}export default TodoList;","map":{"version":3,"sources":["C:/Users/Bindu/OneDrive/Desktop/FSDproject/FSD2_Group24/fsd2-group24/src/components/TodoList.js"],"names":["React","useState","useEffect","TodoForm","Todo","axios","TodoList","todos","setTodos","addTodo","todo","text","test","newTodos","console","log","updateTodo","todoId","newValue","put","then","res","catch","err","prev","map","item","id","removeTodo","removedArr","filter","delete","alert","error","completeTodo","updatedTodos","isComplete","fetch","json","data"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport TodoForm from './TodoForm';\r\nimport Todo from './Todo';\r\nimport './Todo.css';\r\nimport axios from 'axios';\r\nfunction TodoList() {\r\n  const [todos, setTodos] = useState([]);\r\n  // const [msg, setMsg] = useState(\"\");\r\n  const addTodo = todo => {\r\n    if (!todo.text || /^\\s*$/.test(todo.text)) {\r\n      return;\r\n    }\r\n    const newTodos = [todo, ...todos];\r\n    setTodos(newTodos);\r\n    console.log(...todos);\r\n    // console.log(todos);\r\n\r\n  };\r\n // update data\r\n  const updateTodo = (todoId, newValue) => {\r\n    if (!newValue.text || /^\\s*$/.test(newValue.text)) {\r\n      return;\r\n    }\r\n    axios.put('http://localhost:5000/todos/' + todoId, {\r\n      \"id\": todoId,\r\n      \"text\":newValue.text\r\n    })\r\n      .then(res => {\r\n        console.log(newValue.text);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n    console.log(newValue)\r\n    setTodos(prev => prev.map(item => (item.id === todoId ? newValue : item)));\r\n  };\r\n\r\n  //to delete data from json file\r\n\r\n  const removeTodo = id => {\r\n    const removedArr = [...todos].filter(todo => todo.id !== id);\r\n    setTodos(removedArr);\r\n    axios.delete(\"http://localhost:5000/todos/\" + id).then(res => {\r\n      console.log(\"Bucketlist deleted!!\");\r\n      alert(\"Bucket list Deleted!!\")\r\n    }).catch(error => {\r\n      console.log(error);\r\n    })\r\n  };\r\n\r\n  const completeTodo = id => {\r\n    let updatedTodos = todos.map(todo => {\r\n      if (todo.id === id) {\r\n        todo.isComplete = !todo.isComplete;\r\n      }\r\n      return todo;\r\n    });\r\n    setTodos(updatedTodos);\r\n  };\r\n  // read json data\r\n  useEffect(() => {\r\n    fetch('http://localhost:5000/todos').then(res => {\r\n      return res.json();\r\n    })\r\n      .then(data=> {\r\n        console.log(data);\r\n        setTodos(data);\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n      <div className =\"todolist\">\r\n      <h1 className='h1-todo'>What's the Plan for Today?</h1>\r\n      {/* <p>{msg}</p> */}\r\n      <TodoForm onSubmit={addTodo} />\r\n      <Todo todos={todos}\r\n        completeTodo={completeTodo}\r\n        removeTodo={removeTodo}\r\n        updateTodo={updateTodo}\r\n        />\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default TodoList;"]},"metadata":{},"sourceType":"module"}
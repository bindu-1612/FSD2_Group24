{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst useForm2 = (callback, validate) => {\n  _s();\n\n  const [values2, setvalues2] = useState({\n    username: '',\n    email: '',\n    password: '',\n    password2: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [users, setUsers] = useState([]);\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setvalues2({ ...values2,\n      [name]: value\n    });\n  };\n\n  const history = useNavigate();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setErrors(validate(values2));\n    setIsSubmitting(true);\n\n    try {\n      fetch('http://localhost:5000/signupUsers?username={values2.username}&password={values2.password').then(res => {\n        return res.json();\n      }).then(data => {\n        console.log(data);\n        setUsers(data);\n      });\n      alert(\"Successfly Logged In\");\n      history(\"/\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    if (Object.keys(errors).length === 0 && isSubmitting) {\n      callback();\n    }\n  }, [errors]);\n  return {\n    handleChange,\n    handleSubmit,\n    values2,\n    errors\n  };\n};\n\n_s(useForm2, \"q5zjIPGlNOnYyWob9LxBkG+e6Po=\", false, function () {\n  return [useNavigate];\n});\n\nexport default useForm2;","map":{"version":3,"sources":["C:/Users/Bindu/OneDrive/Desktop/FSDproject/FSD2_Group24/fsd2-group24/src/components/useForm2.js"],"names":["useState","useEffect","useNavigate","useForm2","callback","validate","values2","setvalues2","username","email","password","password2","errors","setErrors","isSubmitting","setIsSubmitting","users","setUsers","handleChange","e","name","value","target","history","handleSubmit","preventDefault","fetch","then","res","json","data","console","log","alert","err","Object","keys","length"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,WAAT,QAA4B,kBAA5B;;AACA,MAAMC,QAAQ,GAAG,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAAA;;AACrC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC;AACnCQ,IAAAA,QAAQ,EAAE,EADyB;AAEnCC,IAAAA,KAAK,EAAE,EAF4B;AAGnCC,IAAAA,QAAQ,EAAE,EAHyB;AAInCC,IAAAA,SAAS,EAAE;AAJwB,GAAD,CAAtC;AAMA,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACc,YAAD,EAAeC,eAAf,IAAkCf,QAAQ,CAAC,KAAD,CAAhD;AACA,QAAM,CAACgB,KAAD,EAAQC,QAAR,IAAoBjB,QAAQ,CAAC,EAAD,CAAlC;;AACA,QAAMkB,YAAY,GAAGC,CAAC,IAAI;AACtB,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBF,CAAC,CAACG,MAA1B;AACAf,IAAAA,UAAU,CAAC,EACP,GAAGD,OADI;AAEP,OAACc,IAAD,GAAQC;AAFD,KAAD,CAAV;AAIH,GAND;;AAOA,QAAME,OAAO,GAAGrB,WAAW,EAA3B;;AACA,QAAMsB,YAAY,GAAGL,CAAC,IAAI;AACtBA,IAAAA,CAAC,CAACM,cAAF;AAEAZ,IAAAA,SAAS,CAACR,QAAQ,CAACC,OAAD,CAAT,CAAT;AACAS,IAAAA,eAAe,CAAC,IAAD,CAAf;;AACA,QAAI;AAEIW,MAAAA,KAAK,CAAC,0FAAD,CAAL,CAAkGC,IAAlG,CAAuGC,GAAG,IAAI;AAC1G,eAAOA,GAAG,CAACC,IAAJ,EAAP;AACH,OAFD,EAGKF,IAHL,CAGUG,IAAI,IAAI;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAb,QAAAA,QAAQ,CAACa,IAAD,CAAR;AACH,OANL;AAOJG,MAAAA,KAAK,CAAC,sBAAD,CAAL;AACAV,MAAAA,OAAO,CAAC,GAAD,CAAP;AAEH,KAZD,CAYE,OAAOW,GAAP,EAAY;AACVH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACH;AACJ,GApBD;;AAsBAjC,EAAAA,SAAS,CACL,MAAM;AACF,QAAIkC,MAAM,CAACC,IAAP,CAAYxB,MAAZ,EAAoByB,MAApB,KAA+B,CAA/B,IAAoCvB,YAAxC,EAAsD;AAClDV,MAAAA,QAAQ;AACX;AACJ,GALI,EAML,CAACQ,MAAD,CANK,CAAT;AASA,SAAO;AAAEM,IAAAA,YAAF;AAAgBM,IAAAA,YAAhB;AAA8BlB,IAAAA,OAA9B;AAAuCM,IAAAA;AAAvC,GAAP;AACH,CAlDD;;GAAMT,Q;UAiBcD,W;;;AAmCpB,eAAeC,QAAf","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nconst useForm2 = (callback, validate) => {\r\n    const [values2, setvalues2] = useState({\r\n        username: '',\r\n        email: '',\r\n        password: '',\r\n        password2: ''\r\n    });\r\n    const [errors, setErrors] = useState({});\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [users, setUsers] = useState([])\r\n    const handleChange = e => {\r\n        const { name, value } = e.target;\r\n        setvalues2({\r\n            ...values2,\r\n            [name]: value\r\n        });\r\n    };\r\n    const history = useNavigate();\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        setErrors(validate(values2));\r\n        setIsSubmitting(true);\r\n        try {\r\n        \r\n                fetch('http://localhost:5000/signupUsers?username={values2.username}&password={values2.password').then(res => {\r\n                    return res.json();\r\n                })\r\n                    .then(data => {\r\n                        console.log(data);\r\n                        setUsers(data);\r\n                    })\r\n            alert(\"Successfly Logged In\")\r\n            history(\"/\");\r\n            \r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    useEffect(\r\n        () => {\r\n            if (Object.keys(errors).length === 0 && isSubmitting) {\r\n                callback();\r\n            }\r\n        },\r\n        [errors]\r\n    );\r\n\r\n    return { handleChange, handleSubmit, values2, errors };\r\n};\r\n\r\nexport default useForm2;"]},"metadata":{},"sourceType":"module"}